:root {
  --bg-color: hsl(0, 0%, 13%);
  --text-color: hsl(0, 0%, 80%);
  --accent-color: hsl(0, 0%, 0%);
  --DMaccent-color: hsl(from var(--text-color) h s calc(l - 30));
  --highlight-color: hsl(51, 34%, 43%);
  --box-color: hsl(from var(--bg-color) / 0.5);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box; /* Highly recommended for layout stability */
}

html {
  /* Ensures padding/borders are included in width/height calculations */
  box-sizing: border-box;
}

*, *:before, *:after {
  /* Inherit box-sizing for all elements */
  box-sizing: inherit;
}

html, body {
  -ms-overflow-style: none;  /* For Internet Explorer and Edge */
  scrollbar-width: none;   /* For Firefox */
  height: 100svh; /* Uses the actual visible space on mobile */
  width: 100%;
  font-size: 0;
  margin: 0;
  padding: 0;
  overflow: hidden; /* This prevents bump from Chrome Search Bar */
  position: relative;
}

body::-webkit-scrollbar {
  display: none; /* For Chrome, Safari, Opera, etc. */
}

body  {
  background-color: var(--bg-color);
        background-image:
            radial-gradient(at 0% 0%, rgb(114, 114, 114) 0px, transparent 50%),
            radial-gradient(at 99% 99%, rgb(145, 145, 145) 0px, transparent 50%),
            radial-gradient(at 100% 0%, rgb(160, 160, 160) 0px, transparent 50%),
            radial-gradient(at 0% 100%, rgb(190, 190, 190) 0px, transparent 50%);
  backdrop-filter: saturate(180%) blur(20px);
  background-size: cover;
  background-position: center;
  font-family: rajdhani;
  color: var(--text-color);
  display: grid;
  grid-template-rows: 1fr auto;
  position: relative;
  min-height: 100dvh;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -10;
  pointer-events: none;
  background-image: linear-gradient(to right, #80808012 1px, transparent 1px),
    linear-gradient(to bottom, #80808012 1px, transparent 1px);
  background-size: 24px 24px;
}

a {
  color: inherit;
  text-decoration: inherit;
}

/*Promo Box Styles */

.contentContainer {
  grid-row: 1;
  overflow: hidden;
  display: grid;
  place-items: center;
  width: 100%;
  position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
}

.promoBox{
  width: 800px;
  height: 550px;
  background: hsl(from var(--bg-color) / 0.75);
  margin:auto;
  transition: all ease-in-out 1s;
  overflow: visible;
  transform: scale(1.4);
}

.namebox{
  display: flex;
  color: var(--text-color);
  font-family: "cesso", sans-serif;
  font-variant-ligatures: discretionary-ligatures;
  font-size: 150px;
  text-transform: uppercase;
  text-align: center;
  width: 400px;
  height: 550px;
  z-index: 10;
  margin: auto;
  position: relative;
  justify-content: center;
  align-items: center;
}

.promoBox.is-active .namebox {
    z-index: -1;
}

.nbox1{
  position: relative;
  left:-60px;
  transition: all ease-in-out 0.9s;
  transition-delay: 0.8s;
}

.nbox2{
  position: relative;
  right: -30px;
  transition: all ease-in-out 0.8s;
  transition-delay: 0.8s;
}

.promoBox.is-active .nbox1{
  left: -300px;
  transition: all ease-in-out 0.8s;
}

.promoBox.is-active .nbox2{
  right: -600px;
  transition: all ease-in-out 0.8s;
}

.promoBox.is-active {
  transition: all ease-in-out 1s;
}

.profileBox{
  width: 800px;
  height: 550px;
  position: relative;
  top: -588px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: rajdhani;
  text-transform: uppercase;
  font-size: 10px;
  line-height: 12px;
  letter-spacing:1px;
}

.profileContainer{
  width: 240px;
  height: 380px;
  background: var(--box-color);
  color: var(--text-color);
  display: flex;
  flex: 1;
  position: relative;
  top: -560px;
  transition: all ease-in-out 0.8s;
  align-items: center;
}

.dataPointsContainer {
  flex: 1;
  padding-left: 35px;
  padding-right: 10px;
}

.dataPoint{
  width: 240px;
  border-bottom:1px solid var(--highlight-color);
  display: flex;
  align-items: center;
  margin-top:10px;
  padding-bottom:1px;
  justify-content: space-between;
}

.dataPoint m{
  font-weight: 700;
}

.dataPoint n{
  text-align: right;
}

.spar1{
  background:var(--highlight-color);
  padding:10px;
  text-align:justify;
  height: 50px;
  line-height: 10px;
}

.profilePic{
  height: 100%;
  flex: 0 0 40%; /* Image takes 40% width, doesn't grow or shrink */
  background-image: url(https://raw.githubusercontent.com/michaelmarshall-bot/noise.bymm/refs/heads/main/assets/images/portrait1.jpg);
  /*background-image: url('/assets/images/portrait1.jpg');*/
  background-repeat: no-repeat;
  /* Scaling and Clipping */
  background-size: cover; /* Fills the 40% width and clips excess height */
  background-position: left center; /* Keeps the left edge of the image visible */
  box-sizing: border-box;
  z-index: -1;
  position: relative;
  left: 50px;
  pointer-events: none;
}

.sampleBox {
  width: 300px;
  height: 380px;
  background: var(--box-color);
  padding: 10px;
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  position: relative;
  bottom: -560px;
  transition: all ease-in-out 0.8s;
  font-size: 11px;
}

.promoBox.is-active .sampleBox{
  bottom: 0px;
  transition: all ease-in-out 0.8s;
  transition-delay: 0.8s;
}


.sample{
  width: 240px;
  display: flex;
  align-items: end;
  background:var(--box-color);
  padding:4px;
  line-height: 10px;
}

.promoBox.is-active .profileContainer{
  top: 0px;
  transition: all ease-in-out 0.8s;
  transition-delay: 0.8s;
}

.sample a:hover{
  color: var(--text-color);
  transition: all ease-in-out 0.3s;
}

.sample a{
  width: 80px;
  font-weight: 700;
  color: var(--highlight-color);
  border:0;
  text-decoration: none;
  transition: all ease-in-out 0.3s;
}

.sample a:active{
  color: var(--text-color);
}

.sample m{
  color: hsl(from var(--text-color) h s calc(1 +20));
  margin-left: 5px;
  display: flex;
}

.sample m:before{
  content: '/';
  font-weight: 700;
  color: var(--highlight-color);
  margin-right: 10px;
}

.iconTray{
  width: 120px;
  margin-top: 20px;
  margin-right: auto;
  margin-left: 2px;
  display: flex;
  align-items:center;
  justify-content: space-between;
}

.iconTray svg {
  height: 20px;
}

.iconTray svg path {
 fill: var(--highlight-color);
}

.iconTray a{
  transition: all ease-in-out 0.4s;
}

.iconTray a:hover{
  transition: all ease-in-out 0.4s;
}

.iconTray a:hover svg path {
  fill: var(--text-color);
  transition: all ease-in-out 0.4s;
}

.bottomTag{
  font-family: rajdhani;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 6px;
  color: var(--text-color);
  position: relative;
  top: -700px;
  text-align: center;
  line-height: 10px;
  transition: all ease-in-out 0.8s;
  transition-delay: 1s;
  pointer-events: none;
}

.promoBox.is-active .bottomTag {
  filter:blur(10px);
  opacity:0;
  transition: all ease-in-out 0.8s;
  pointer-events: auto;
}

/* 3. Visual feedback for the trigger boxes */
.nbox1, .nbox2 {
    cursor: pointer;
}

.nbox1:active, .nbox2:active {
    transform: scale(0.95); /* Subtle "pressed" effect */
}

.namebox:hover {
  color: var(--highlight-color);
}

.trigger-text {
    position: relative;
    top: -50px;
    left: -20px;
    cursor: pointer;
    display: inline-block;
}

@font-face {
font-family: 'Chill';
font-style: normal;
font-weight: normal;
src: url('https://dl.dropbox.com/s/agpnu5irqlaaeco/Chillvornia%20Stamp%20Slant.otf') format('woff');
}

/*Footer Styles*/
.footer {
    position: absolute;
    height: 50px;
    width: 100vw;
    max-width: 100%;
    bottom: 0;
    z-index: 10;
}

.admintext {
    position: absolute;
    text-align: left;
    align-self: center;
    font-weight: 400;
    top: 48%;
    left: 10px;
    margin: 0px 0px 0px 0px;
    transition: 0.1s;
    color: var(--bg-color);
}

.admintext:hover {
  color: var(--highlight-color);
}

body:has(.switch__input:checked) .admintext {
    color: var(--accent-color);
}

body:has(.switch__input:checked) .admintext:hover {
    color: var(--DMaccent-color);
}
/*Footer Close*/

/*Audio Player */


/* List Styling */
        .song-list { 
            list-style: none;
            background: var(--box-color); 
            padding: 0px;
        }

        .track-item { 
            cursor: pointer; 
            transition: 0.25s; 
            border: none;
        }

        /*.track-item:hover { 
            background: var(--accent-color); 
        }*/

        .track-item.playing { 
            color: var(--text-color);
            font-weight: bold; 
            border-left: 7.5px solid rgba(0, 0, 0, 0); 
        }

        .track-item svg {
          display: none;
          height: 11px;
          padding-left: 5px;
          transition: 0.25s;
        }

        .track-item svg path {
          fill: var(--highlight-color);
        }


        .track-item.playing svg {
          display: inline-block;
          transition: 0.25s;
        }

    /* Player UI */
        #player-ui {
          display: none;   
          position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            margin: 0px;
            padding: 25px 50px;
            gap: 15px;
            z-index: 1000; 
            box-sizing: border-box;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: all 0.5s ease; /* This creates the visual fade */
          align-items: center;
          display: flex !important; /* Keep it as flex while it exists */
          flex-direction: column;
        }

        #player-ui.is-visible {
          display: flex !important;
          flex-direction: column; 
          align-items: center; 
          opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        #visualizer { 
            position: absolute; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            z-index: -1; 
            opacity: 0.2; 
        }
        
        #now-playing { 
            font-weight: 700; 
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1;
            color: var(--text-color);
        }

        .progress-container { 
            width: 100%; 
            max-width: 700px; 
            display: flex; 
            align-items: center; 
            gap: 15px; 
        }
        
        progress { 
            flex-grow: 1; 
            height: 8px; 
            accent-color: var(--highlight-color); 
            cursor: pointer; 
          }
        
        .time { 
            font-variant-numeric: tabular-nums; 
            font-size: 0.85rem; 
            color: var(--text-color); }

        /* Controls & Click States */
        .controls { 
            display: flex; 
            align-items: center; 
            gap: 20px; 
        }
        
        .player-btn { 
            color: var(--highlight-color);
            cursor: pointer; 
            transition: transform 0.1s;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 5px 10px;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            --audioButton-iconColor: var(--highlight-color);
            background: none;
        }

        .player-btn svg {
          height: 100%;
          width: 22px;
        }

        .player-btn svg path {
          fill: var(--audioButton-iconColor);
        }
        
        .player-btn:active { 
            /*transform: scale(0.92);*/
            background: hsl(from var(--bg-color) / 0.25); 
        }

        .player-btn.primary { 
            background: var(--highlight-color); 
            border: var(--highlight-color) solid 2px; 
            border-radius: 50%;
            box-shadow: -7px -6px 10px 5px rgba(255, 255, 255, 0.04),
    7px 6px 10px 2px rgba(14, 15, 16, 0.2);
            background: radial-gradient(at bottom right, var(--highlight-color) 0%, hsl(from var(--highlight-color) h s 70%) 80%);
            transition-duration: 0.1s;
        }
        
        .player-btn.primary:active { 
            background: radial-gradient(at bottom right, hsl(from var(--highlight-color) h s 70%) 0%, var(--highlight-color) 80%);
            border: hsl(from var(--highlight-color) h s 40%) solid 2px;
            transition-duration: 0.1s;
        }

        .player-btn.primary svg path { 
            fill: var(--accent-color);
        }

        .icon-pause {
          display: none;
        }

        .is-playing .icon-play {
          display: none;
        }
        
        .is-playing .icon-pause { 
          display: block; 
        }

        /*Loading Spinner - Not Completely Implemented Yet*/
        .player-btn {
            position: relative; /* Anchor for absolute icons */
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* 2. Stack the icons directly inside the button */
        .icon-play, .icon-pause, .icon-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 24px;
            height: 24px;
            transition: all 0.3s ease;
        }

        /* 3. Adjust the Animation States */
        .is-playing .icon-play {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.5) rotate(90deg);
        }

        .is-playing .icon-pause {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1) rotate(0deg);
        }

        .volume-block { 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            font-size: 0.8rem; 
            color: var(--text-color); 
        }
        
        .icon-btn { 
            position: absolute; 
            top: 15px; 
            right: 25px; 
            background: none; 
            border: none; 
            font-size: 1.2rem; 
            cursor: pointer; 
            color: var(--text-color);
}

/* Volume Styles */
#volume-slider {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 8px;
  border-radius: 5px;
  background: linear-gradient(to right, var(--highlight-color) 0%, var(--highlight-color) var(--value, 100%), var(--text-color) var(--value, 100%), var(--text-color) 100%);
  cursor: pointer;
  outline: none;
  transition: opacity 0.2s, background-color 0.3s;
}

/* Custom Thumb - Chrome/Safari/Edge */
#volume-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  height: 18px;
  width: 18px;
  background: var(--highlight-color);
  border-radius: 50%;
  transition: transform 0.1s ease-in-out;
}

/* Custom Thumb - Firefox */
#volume-slider::-moz-range-thumb {
  height: 18px;
  width: 18px;
  background: var(--highlight-color);
  border-radius: 50%;
}

/* Muted Track */
#volume-slider.muted {
  opacity: 0.5;
  background: linear-gradient(to right, #777 0%, #777 var(--value), #bbb var(--value), #bbb 100%);
}

/* Muted Thumb */
#volume-slider.muted::-webkit-slider-thumb {
  background: #999;
}

#volume-slider.muted::-moz-range-thumb {
  background: #999;
}

/*Now Playing Text*/
#now-playing {
  display: block;
  opacity: 1;
  transform: translateY(0);
  transition: all 0.4s ease-out; /* Matches the JS timeout duration */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis; /* Adds '...' if song name is too long */
  height: 1.5em; /* Fixes height so it doesn't jump during animation */
}




/* Mobile Optimizations */
@media (max-width: 768px) {
  /*Layout*/

  :root { 
    --nBox1move-x: 0; --nBox1move-y: -200px; 
    --nBox2move-x: 0; --nBox2move-y: 100%;
  }

  html, body {
    width: 100%;
    overflow: hidden;
  }

  .body {
    position: relative;
    overflow: hidden;
  }

  .overflowWrapper {
  width: 100%;
  position: relative;
  height: 100dvh;
  height: var(--true-height);
  flex: 1;
  overflow: inherit;
  }

  .contentContainer {
    overflow: visible;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    height: 100vh;
    height: var(--true-height); 
  }

  .promoBox {
    margin: 0;
    transform: scale(1);
    display: flow-root;
    display: flex;
    flex-direction: column;
    height: 100svh;
    height: var(--true-height); 
    width: 100vw;
    overflow: visible;
    position: relative;
    top: 0;
    left: 0;
  }

  .namebox {
    writing-mode: vertical-rl;   /* Rotates text 90deg clockwise */
    text-orientation: mixed;
    font-size: 20vh;
    line-height: 0.9;
    height: auto;           
    width: auto;                
    margin: 0;
    position: absolute;
    top: 0;
    left: 0;
    flex-wrap: wrap;
    justify-content: start;
    align-content: end;
    color: var(--highlight-color);
    mix-blend-mode: difference;
    filter: contrast(200%) brightness(120%);
  }

  .nbox1 {
    transform: translate(0, 0);
    left: 0;
  }

  .nbox2 {
    transform: translate(0, 0);
    right: 0;
  }

  .promoBox.is-active .nbox1 {
   transform: translateY(-400px);
   left: inherit;
  }

  .promoBox.is-active .nbox2 {
    transform: translateY(var(--nBox2move-y));
    right: inherit;
  }

  .trigger-text {
    top: unset;
    left: unset;
  }

  .profileBox {
    width: 100vw;
    height: 100vh;
    height: var(--true-height); 
    position: absolute;
    transform: translate(-50%, -50%);
    top: 50%;
    left: 50%;
    font-size: 14px;
    line-height: 14px;
    margin-top: -5%;
  }

  .profileContainer {
    display: flex;
    transition: all ease-in-out 0.8s;
    position: absolute;
    margin: 0;
    padding: 0;
    width: 100%;
    top: -200px;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .promoBox.is-active .profileContainer {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .profilepic {
        margin-top: -7%;
        left: 50%;
        flex: 0 0 60%;
        height: 50vh;
        width: 100%;
        transform: translate(-50%, -50%);
        flex: 1; /* Occupies remaining space */
        border-bottom: none
  }
 

  .dataPointsContainer {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    padding: 0;
    width: 100%;
    mix-blend-mode: difference;
    filter: contrast(200%) brightness(120%);
  }

  .dataPoint {
    width: 85%;
    margin-left: auto;
    margin-right: auto;
    }

  .trigger-text {
    top: 0;
    left: 0;
  }

  .sampleBox {
    padding: 0px;
    width: 100%;
    height: 100%;
    justify-content: center;
    font-size: 14px;
    top: 200%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .promoBox.is-active .sampleBox {
    top: 50%;
  }

  .song-list {
    top: 25%;
    position: relative;
    flex: 1;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    mix-blend-mode: difference;
    filter: contrast(200%) brightness(120%);
  }

  .sample {
    width: 100%;
    margin: 10px 400px;
  }

  .sample a {
    width: 93px;
  }

  .track-item.playing {
    border: none;
  }

  .track-item svg {
    display: inline-block;
    opacity: 0;
  }

  .track-item.playing svg {
    opacity: 1;
    transition: 0.2s;
  }

  .iconTray {
    flex-basis: 30%;
    margin-right: auto;
    margin-left: auto;
  }

  .bottomTag {
    position: absolute;
    top: 55%;
    left: 65%;
    transform: translate(-50%, -50%);
    font-size: 12px;
    min-width: 150px;
  }
  
  /*Audio Player*/
    #player-ui {
        padding: 15px;
        gap: 12px;
        /* Stack elements vertically for more thumb room */
        flex-direction: column; 
        flex-shrink: 0;
          margin-top: auto;
          height: 140px;
        padding-bottom: env(safe-area-inset-bottom, 15px); 
    box-sizing: border-box;
    }

    #player-ui.is-visible {
      mix-blend-mode: difference;
      filter: contrast(200%) brightness(120%);
    }

    .progress-container {
        width: 100%;
        order: 1; /* Moves progress bar to the top */
    }

    .controls {
        width: 100%;
        justify-content: space-evenly;
        order: 2;
    }

    #now-playing {
        font-size: 0.85rem;
        text-align: center;
        order: 0; /* Keep title at the top */
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Increase touch target size for buttons */
    .player-btn {
        min-width: 50px;
        min-height: 50px;
    }

    .volume-block {
        display: none;
    }

    /* Taller progress bar for easier touch seeking */
    progress {
        height: 12px;
    }
}

/* Extra Small Screens (Phones) */
@media (max-width: 480px) {
    .time {
        display: none;
    }
}

@media (max-height: 750px) {
      .profileContainer {
        top: -100%;
        transition: 2s ease;
      }
  
      .promoBox.is-active .profileContainer {
        top: 23vh;
        transition: 2s ease;
      }

      .profileBox {
        margin-top: 5%;
      }

      .profilePic {
        top: 25svh;
        opacity: 0.2;
      }

      .song-list {
        top: 9%;
    }
}